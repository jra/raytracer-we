WritePPM â‡ {
  # ar is nrowsÃ—ncolsÃ—3 array, final axis is rgb, floats in [0,1]
  path ğ•Š a:
  nrowsâ€¿ncols â† 2â†‘â‰¢a
  path â€¢file.Lines âŸ¨
    "P3"
    (â€¢Fmt ncols)âˆ¾" "âˆ¾(â€¢Fmt nrows)
    (â€¢Fmt 255)
  âŸ© âˆ¾ â¥Š (âŠ£âˆ¾" "âŠ¸âˆ¾)Â´Â¨ <â‰1 â€¢FmtÂ¨ âŒŠ255.999Ã—a
}

ShowArray â† {
  ğ•Š a:
  FirstLast3 â† {
    ğ•Š b:
    FmtSpc â† {
      ğ•Š c:
      (â€¢Fmt c)âˆ¾" "
    }
    â€¢Out (âˆ¾ FmtSpcÂ¨ <Ë˜3â†‘b)âˆ¾"... "âˆ¾(âˆ¾ FmtSpcÂ¨ <Ë˜Â¯3â†‘b)
  }
  FirstLast3Â¨ <Ë˜3â†‘a
  â€¢OutâŸ3 "."
  FirstLast3Â¨ <Ë˜Â¯3â†‘a
}

image_width â† 256
image_height â† 256

image â† > (âŒ½(image_height - 1)Ã·Ëœâ†•image_height) (âŒ½0.25âˆ¾â‹ˆ)âŒœ (image_width - 1)Ã·Ëœâ†•image_width

ShowArray âŒŠ1000Ã—image

"image.ppm" WritePPM image
